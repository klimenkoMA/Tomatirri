<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns:th="http://www.w3.org/1999/xhtml" lang="ru">

<title>TOMATOES</title>
<div th:replace="fragments/headers/head :: head"></div>

<body>
<div class="wrapper d-flex flex-column justify-content-center p-0 m-0"
     style="align-self: center;">
    <header>
        <div th:replace="fragments/headers/headeradmin :: headeradmin"></div>
    </header>

    <main class="main d-flex row p-0 m-0 justify-content-center"
          style="
          align-content: baseline;
          align-self: center;
          max-width: 90%;">

        <div style="flex: 0 0 auto;"
             th:replace="fragments/crud/crudtomato :: crudtomato"></div>

        <form action="/sendCommonMessage"
              method="post"
              autocomplete="off"
              class="card-text offcanvas-body align-self-start">
            <div align="center">
                <label class="d-flex justify-content-center align-items-center">
                </label>
            </div>
            <div align="center">
                <button class="btn text-light crud-btn"
                        type="submit"
                        style="justify-self: center;
                            min-width: max-content;
                            max-height: min-content;
                            background-color: #467a53;
                            align-self: center;
                            box-shadow: 2px 2px 4px black;
                            text-shadow: #002349 2px 3px 4px;">
                    Добавить
                </button>
            </div>
            <input type="hidden"
                   name="${_csrf.parameterName}"
                   value="${_csrf.token}">

        </form>

        <div class="table-result-db p-0 w-100"
             style="
             justify-content: center;
             flex: 0 0 auto;
             margin-top: 2vh;
             min-height: min-content">

            <table class="row w-100"
                   style=" justify-content: center;
                   align-content: center;
                   height: 3vh;
                   table-layout: fixed">

                <tr class="text-light fs-7"
                    style="background-color: #467a53">
                    <th class="text-center align-self-center border border-0 p-0 m-0"
                        style="
                        min-width: 3rem;
                        text-shadow: 2px 2px 4px #07237a">
                        ID
                    </th>
                    <th class="text-center align-self-center border border-0 p-0 m-0"
                        style="
                        min-width: 3rem;
                        text-shadow: 2px 2px 4px #07237a">
                        Есть
                    </th>
                    <th class="text-center align-self-center border border-0  p-0 m-0"
                        style="
                        min-width: 10rem;
                        text-shadow: 2px 2px 4px #07237a">
                        Тип
                    </th>
                    <th class="text-center align-self-center border border-0 p-0 m-0"
                        style="
                        min-width: 10rem;
                        text-shadow: 2px 2px 4px #07237a">
                        Название
                    </th>
                    <th class="text-center align-self-center border border-0 p-0 m-0"
                        style="
                        min-width: 5rem;
                        text-shadow: 2px 2px 4px #07237a">
                        h
                    </th>
                    <th class="text-center align-self-center border border-0 p-0 m-0"
                        style="
                        min-width: 5rem;
                        text-shadow: 2px 2px 4px #07237a">
                        d
                    </th>
                    <th class="text-center align-self-center border border-0 p-0 m-0"
                        style="
                        min-width: 5rem;
                        text-shadow: 2px 2px 4px #07237a">
                        Вес
                    </th>
                    <th class="text-center align-self-center border border-0 p-0 m-0"
                        style="
                        min-width: 5rem;
                        text-shadow: 2px 2px 4px #07237a">
                        Кашпо
                    </th>
                    <th class="text-center align-self-center border border-0 p-0 m-0"
                        style="
                        min-width: 15rem;
                        text-shadow: 2px 2px 4px #07237a">
                        Созревание
                    </th>
                    <th class="text-center align-self-center border border-0 p-0 m-0"
                        style="border-color: #467a53;
                        min-width: 15rem;
                        text-shadow: 2px 2px 4px #07237a">
                        Описание
                    </th>
                    <th class="text-center align-self-center border border-0 p-0 m-0"
                        style="border-color: #467a53;
                        min-width: 11rem;
                        text-shadow: 2px 2px 4px #07237a">
                        Вкус
                    </th>
                    <th class="text-center align-self-center border border-0 p-0 m-0"
                        style="
                         border-color: #467a53;
                         min-width: 11rem;
                         text-shadow: 2px 2px 4px #07237a">
                        Особенность
                    </th>
                    <th class="text-center align-self-center border border-0 p-0 m-0"
                        style="border-color: #198754;
                        min-width: 10rem;
                        text-shadow: 2px 2px 4px #07237a">
                        Фото
                    </th>
                </tr>
            </table>

            <div class="scroll-tbody border-0"
                 style="flex: 0 0 auto;">
                <table class="col border-0"
                       style="align-self: center;
                       min-height: min-content;
                       font-size: small;
                       word-break: break-all;
                       border: 0;
                       overflow-wrap: anywhere;
                       white-space: normal">
                    <div th:each="element : ${tomatoesList}">
                        <div class="col">
                            <tr style="align-self: center">
                                <td class="text-center border border-0"
                                    style="min-width: 3rem">
                                    <div>[[${element.idCount}]]</div>
                                </td>
                                <td class="text-center border border-0"
                                    style="min-width: 3rem">
                                    <div>[[${element.isPresent}]]</div>
                                </td>
                                <td class="text-center border border-0"
                                    style="min-width: 10rem;
                                    word-break: break-all;
                                    overflow-wrap: anywhere;
                                    white-space: normal">



                                    <form action="/filtertomatoesbycategory"
                                          method="post">
                                        <input type="hidden"
                                               name="category"
                                               th:value="${element.category}"/>
                                        <button type="submit" class=""
                                                style="background: none;
                                                color: darkblue;
                                                border: none;
                                                cursor: pointer;
                                                text-shadow: none;
                                                word-break: break-word;">
                                            [[${element.category}]]
                                        </button>
                                    </form>

                                </td>
                                <td class="text-center border border-0"
                                    style="min-width: 10rem">
                                    <div><strong>[[${element.tomatoesName}]]</strong></div>
                                    Название кнопки
                                    <div><i>[[${element.tgBotButtonName}]]</i></div>
                                </td>
                                <td class="text-center border border-0"
                                    style="min-width: 5rem">
                                    <div>[[${element.tomatoesHeight}]]</div>
                                </td>
                                <td class="text-center border border-0"
                                    style="min-width: 5rem">
                                    <div>[[${element.tomatoesDiameter}]]</div>
                                </td>
                                <td class="text-center border border-0"
                                    style="min-width: 5rem">
                                    <div>[[${element.tomatoesFruit}]]</div>
                                </td>
                                <td class="text-center border border-0"
                                    style="min-width: 5rem">
                                    <div>[[${element.tomatoesFlowerpot}]]</div>
                                </td>
                                <td class="text-center border border-0"
                                    style="min-width: 15rem">
                                    <div>[[${element.tomatoesAgroTech}]]</div>
                                </td>
                                <td class="text-center border border-0"
                                    style="min-width: 15rem">
                                    <div>[[${element.tomatoesDescription}]]</div>
                                </td>
                                <td class="text-center border border-0"
                                    style="min-width: 11rem">
                                    <div>[[${element.tomatoesTaste}]]</div>
                                </td>
                                <td class="text-center border border-0"
                                    style="min-width: 11rem">
                                    <div>[[${element.tomatoesSpecificity}]]</div>
                                </td>
                                <td class="text-center border border-0 row"
                                    style="min-width: 10rem">
                                    <div th:each="photo : ${element.photos}"
                                         class="col-4">
                                        <div>
                                            <img th:src="@{'data:image/jpg;base64,'
                                            +${photo.getImageDataBase64()}}"
                                                 alt="images from database"
                                                 class="img-fluid"
                                                 style="max-width: 100%;
                                                 height: auto;
                                                 object-fit: contain;"/>
                                        </div>
                                    </div>

                                    <div class="d-flex flex-row justify-content-center align-items-center">
                                        <div>
                                            <a th:replace="fragments/crud/add/addtomato :: addtomato"></a>
                                        </div>

                                        <div>
                                            <a th:replace="fragments/crud/update/updatetomato :: updatetomato"></a>
                                        </div>

                                        <div>
                                            <a th:replace="fragments/searching/tomatosearching :: tomatosearching"></a>
                                        </div>

                                        <div>
                                            <a th:replace="fragments/crud/delete/deletetomato :: deletetomato"></a>
                                        </div>

                                        <form action="/sendTomatoMessage"
                                              method="post"
                                              autocomplete="off"
                                              class="p-0 m-0">
                                            <div class="p-0 m-0"
                                                 align="center">
                                                <input type="hidden"
                                                       name="id"
                                                       th:value="${element.id}">
                                                <button class="p-0 m-0"
                                                        type="submit"
                                                        style="color: #467a53">

                                                    <svg xmlns="http://www.w3.org/2000/svg"
                                                         width="20"
                                                         height="20"
                                                         fill="currentColor"
                                                         class="bi bi-telegram p-0 m-0"
                                                         viewBox="0 0 16 16">
                                                        <path d="M16 8A8 8 0 1 1 0 8a8
                                     8 0 0 1 16 0zM8.287 5.906c-.778.324-2.334.994-4.666
                                      2.01-.378.15-.577.298-.595.442-.03.243.275.339
                                      .69.47l.175.055c.408.133.958.288 1.243.294.26
                                      .006.549-.1.868-.32 2.179-1.471 3.304-2.214
                                       3.374-2.23.05-.012.12-.026.166.016.047.041
                                       .042.12.037.141-.03.129-1.227 1.241-1.846
                                       1.817-.193.18-.33.307-.358.336a8.154 8.154
                                        0 0 1-.188.186c-.38.366-.664.64.015 1.088
                                        .327.216.589.393.85.571.284.194.568.387.936
                                        .629.093.06.183.125.27.187.331.236.63.448
                                        .997.414.214-.02.435-.22.547-.82.265-1.417
                                        .786-4.486.906-5.751a1.426 1.426 0 0 0-
                                        .013-.315.337.337 0 0 0-.114-.217.526.526
                                         0 0 0-.31-.093c-.3.005-.763.166-2.984 1.09z"/>
                                                    </svg>
                                                </button>
                                            </div>
                                            <input type="hidden"
                                                   name="${_csrf.parameterName}"
                                                   value="${_csrf.token}">
                                        </form>
                                    </div>
                                </td>
                            </tr>
                        </div>
                    </div>
                    <input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}"/>

                </table>
            </div>
        </div>

    </main>
    <footer>
        <div th:replace="fragments/footermain :: footermain"></div>
    </footer>
</div>
</body>
</html>